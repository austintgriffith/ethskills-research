# ERC-8004: Trustless Agents ‚Äî On-Chain Agent Identity Registry

## Overview
ERC-8004 is a groundbreaking Ethereum standard that establishes trust infrastructure for autonomous AI agents through three on-chain registries. Deployed to mainnet on **January 29, 2026**, this protocol enables agents to discover, identify, and trust each other across organizational boundaries without pre-existing relationships.

## Core Innovation
ERC-8004 addresses a fundamental gap in the AI agent economy: how can autonomous agents operating across different organizations trust and transact with each other? The protocol provides the missing trust layer for the agentic economy.

## Three Registry System

### 1. Identity Registry (ERC-721 based)
- Provides **portable, censorship-resistant on-chain identities** for AI agents
- Each agent is a unique ERC-721 NFT with a globally unique identifier
- Supports multiple service endpoints (A2A, MCP, OASF, ENS, DIDs, email)
- Built-in verification for agent wallets using EIP-712/ERC-1271 signatures

**Agent Identifier Format:**
```
agentRegistry: {namespace}:{chainId}:{identityRegistry}
Example: eip155:1:0x8004A169FB4a3325136EB29fA0ceB6D2e539a432

agentId: ERC-721 tokenId (unique per registry)
```

### 2. Reputation Registry
- **Standardized feedback system** with signed fixed-point values
- Tracks reputation across dimensions (uptime, success rate, quality ratings)
- Supports rich metadata (tags, endpoints, proof-of-payment)
- On-chain aggregation with off-chain scoring flexibility
- Anti-Sybil protection (requires client address filtering)

**Feedback Structure:**
- `value`: int128 (signed integer)
- `valueDecimals`: uint8 (0-18 decimal places)
- Optional tags, endpoint URIs, IPFS payloads

**Example Reputation Metrics:**
- Quality rating: 87/100 ‚Üí `value=87, valueDecimals=0`
- Uptime: 99.77% ‚Üí `value=9977, valueDecimals=2`
- Response time: 560ms ‚Üí `value=560, valueDecimals=0`

### 3. Validation Registry
- Enables independent verification of agent work
- Supports multiple trust models:
  - **Crypto-economic**: Stake-secured inference re-execution
  - **zkML**: Zero-knowledge machine learning proofs
  - **TEE**: Trusted Execution Environment oracles
- Validators respond on-chain (0-100 score, binary or spectrum)

## Contract Addresses

### Ethereum Mainnet (Canonical Deployment)
- **IdentityRegistry**: `0x8004A169FB4a3325136EB29fA0ceB6D2e539a432`
- **ReputationRegistry**: `0x8004BAa17C55a88189AE136b182e5fdA19dE9b63`

### Other Networks
Deployed to **20+ chains** including:
- Base (Mainnet & Sepolia)
- Arbitrum (Mainnet & Sepolia)
- Optimism (Mainnet & Sepolia)
- Polygon (Mainnet & Amoy)
- Avalanche (C-Chain & Fuji)
- Abstract, Celo, Gnosis, Linea, Mantle, MegaETH, Monad, Scroll, Taiko, BSC

All use the same contract addresses for easy cross-chain agent portability.

Full list: https://github.com/erc-8004/erc-8004-contracts

## Agent Registration File

The agent's `agentURI` (tokenURI) resolves to a JSON file with:

```json
{
  "type": "https://eips.ethereum.org/EIPS/eip-8004#registration-v1",
  "name": "MyAgentName",
  "description": "Natural language description of capabilities",
  "image": "https://example.com/agent-avatar.png",
  "services": [
    {
      "name": "A2A",
      "endpoint": "https://agent.example/.well-known/agent-card.json",
      "version": "0.3.0"
    },
    {
      "name": "MCP",
      "endpoint": "https://mcp.agent.eth/",
      "version": "2025-06-18"
    }
  ],
  "x402Support": true,
  "active": true,
  "registrations": [
    {
      "agentId": 42,
      "agentRegistry": "eip155:1:0x8004A169FB4a3325136EB29fA0ceB6D2e539a432"
    }
  ],
  "supportedTrust": ["reputation", "crypto-economic", "tee-attestation"]
}
```

## Integration with Other Standards

### Required Dependencies
- **EIP-155**: Chain identifiers
- **EIP-712**: Typed message signing
- **EIP-721**: NFT-based identities
- **EIP-1271**: Smart contract signature verification

### Compatible Protocols
- **x402**: HTTP payment protocol (agent-to-agent payments)
- **A2A (Agent2Agent)**: Google's agent communication protocol
- **MCP (Model Context Protocol)**: Anthropic's agent communication standard
- **OASF**: Open Agent Skill Format
- **ENS**: Ethereum Name Service for agent names

## Timeline

- **August 13, 2025**: ERC-8004 proposed by Davide Crapis (Ethereum Foundation)
- **October 2025**: EF's decentralized AI (dAI) team unveils with ecosystem backing
- **January 29, 2026**: **Mainnet deployment** (Thursday, ~9 AM ET)
- **February 2026**: Active adoption across AI agent platforms

## Key Authors & Contributors
- **Marco De Rossi** (MetaMask)
- **Davide Crapis** (Ethereum Foundation)
- **Jordan Ellis** (Google)
- **Erik Reppel** (Coinbase)
- **Leonard Tan** (MetaMask)
- **Vitto Rivabella** (EF)
- **Isha Sangani** (EF)

## Ecosystem Support
Backed by major Ethereum projects:
- **ENS** (Ethereum Name Service)
- **EigenLayer** (Restaking protocol)
- **The Graph** (Indexing protocol)
- **Taiko** (Type-1 zkEVM)

## Use Cases

### 1. Autonomous Agent Marketplaces
Agents discover and hire other agents for specialized tasks (data analysis, content creation, code auditing).

### 2. Decentralized AI Services
AI models expose capabilities through ERC-8004 identities, building reputation through verified work.

### 3. Agent-to-Agent Commerce
Combined with x402 payment protocol, agents autonomously pay each other for services.

### 4. Trust-Minimized Task Delegation
Humans delegate high-value tasks to agents with proven reputation and validator endorsements.

### 5. Multi-Agent Coordination
Complex workflows involving multiple specialized agents coordinating through standardized identities.

## Security Considerations

### Sybil Resistance
- Reputation queries **must filter by trusted client addresses**
- Off-chain scoring systems essential for filtering spam/fake feedback
- Multiple reputation aggregators expected to emerge

### Agent Verification
- Optional **endpoint domain verification** via `.well-known/agent-registration.json`
- Cryptographic proof that advertised endpoints are controlled by agent owner

### Immutable Audit Trail
- On-chain pointers and hashes cannot be deleted
- Full transparency for trust signal history
- Off-chain data on IPFS for integrity

### Validation Incentives
- Slashing and incentive mechanisms handled by specific validation protocols
- Not mandated by ERC-8004 (pluggable trust models)

## Developer Resources

### Official Repositories
- **Contracts**: https://github.com/erc-8004/erc-8004-contracts
- **Specification**: https://eips.ethereum.org/EIPS/eip-8004
- **Website**: https://www.8004.org
- **Awesome ERC-8004**: https://github.com/sudeepb02/awesome-erc8004

### Integration Example
```solidity
// Register a new agent
uint256 agentId = identityRegistry.register(
    "ipfs://QmYourAgentRegistration",
    metadata
);

// Give feedback to agent
reputationRegistry.giveFeedback(
    agentId,
    9977,    // value: 99.77
    2,       // valueDecimals
    "uptime",     // tag1
    "30days",     // tag2
    "https://agent.example.com/api",
    "ipfs://QmFeedbackDetails",
    keccak256(feedbackData)
);

// Get reputation summary
(uint64 count, int128 summaryValue, uint8 decimals) = 
    reputationRegistry.getSummary(
        agentId,
        trustedClientAddresses,
        "uptime",
        "30days"
    );
```

## Comparison with Other Agent Standards

| Feature | ERC-8004 | Traditional APIs | Centralized AI Platforms |
|---------|----------|------------------|--------------------------|
| Identity Portability | ‚úÖ Cross-org, on-chain | ‚ùå Siloed | ‚ùå Platform-locked |
| Trust Verification | ‚úÖ Transparent, auditable | ‚ùå Opaque | ‚ùå Black-box ratings |
| Payment Integration | ‚úÖ x402-compatible | üí≥ Fiat-only | üí≥ Platform fees |
| Censorship Resistance | ‚úÖ Decentralized | ‚ùå API key revocation | ‚ùå Platform bans |
| Reputation Portability | ‚úÖ NFT-based | ‚ùå Platform-specific | ‚ùå Non-transferable |

## Future Roadmap

### Near-term (2026)
- Expansion to additional L2s and EVM chains
- Integration with major AI agent frameworks
- Development of reputation aggregator services
- TEE validation standards finalization

### Long-term
- Cross-chain agent identity bridging
- Advanced reputation algorithms (PageRank for agents)
- Insurance pools for agent work guarantees
- Decentralized agent auditing networks

## Business Models Enabled

1. **Reputation Aggregators**: Services that analyze and score agent trustworthiness
2. **Validation Networks**: Stake-backed verification of agent work quality
3. **Agent Marketplaces**: Discovery and hiring platforms for autonomous agents
4. **Insurance Protocols**: Coverage for agent task failures
5. **Agent DAOs**: Collective ownership and governance of high-value agents

## Related Standards & Protocols

- **x402**: Payment Required (HTTP 402) protocol for agent payments
- **EIP-7702**: Set Code for EOAs (smart account functionality)
- **EIP-3009**: Transfer With Authorization (gas-sponsored payments)
- **EIP-4337**: Account Abstraction (EntryPoint contract)

## Impact on Ethereum Ecosystem

ERC-8004 positions Ethereum as the **canonical trust layer for the AI agent economy**. By providing:
- **Identity infrastructure** that's portable and self-sovereign
- **Reputation systems** that are transparent and composable
- **Validation frameworks** that enable trust at scale

This standard is critical for the emerging "agentic economy" where AI agents are full economic participants, not just tools.

## Contact & Community

- **Email**: team@8004.org
- **Forum Discussion**: https://ethereum-magicians.org/t/erc-8004-trustless-agents/25098
- **Status**: Draft (actively developing, production deployments live)
- **License**: CC0 (Public Domain)

---

**Last Updated**: February 2026  
**Specification Version**: Draft (active mainnet deployment)  
**Deployment Date**: January 29, 2026
